var search=function(){function e(e){$.ajax({url:"https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrsearch="+e+"&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max",jsonp:"callback",dataType:"jsonp",data:{action:"query",list:"search",srsearch:"javascript",format:"json"},xhrFields:{withCredentials:!0},headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},success:function(e){localStorage.setItem("data",e),t(e)}})}function t(e){var t="";$.each(e.query.pages,function(e,a){var r="https://en.wikipedia.org/?curid=";t+="<ul><a href="+r+a.pageid+" target='_blank'><li><h1>"+a.title+"</h1><p>"+a.extract+"</p></li></a></ul>"}),$(".wrapper").html(t)}function a(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var a=$(t.target),r=a.find('input[name="search-request"]').val();e(r),a.trigger("reset")}function r(){$("form").on("submit",a)}return window.onpopstate=function(e){var a=localStorage.getItem("response");t(a)},{init:r}}();$(document).ready(search.init);